document.addEventListener("DOMContentLoaded",function(e){let o=[];const d=e=>{var t=e=>e?"none":"";document.getElementById("emptyLabel").style.display=t(!0),document.getElementById("btnDecodePro").disabled=t(e),document.getElementById("progressBar").style.display=t(!e),document.getElementById("resultTable").style.display=t(e)},l=(document.getElementById("btnCopyResult").addEventListener("click",function(){let t="Decoded by https://decoderpo.com/\n";o.map(e=>{t+=e.code+":\n",e.description.map(e=>{t+="    - "+e+"\n"}),t+="\n"}),navigator.clipboard.writeText(t)}),document.getElementById("RPOCodesForm").addEventListener("submit",function(e){e.preventDefault(),d(!0);const t=document.getElementById("inputRpoCodes").value,n=t.split(" ").reduce((e,t)=>e.concat(t.split(",")),[]).reduce((e,t)=>e.concat(t.split("-")),[]).map(e=>e.replace(/\s+/g,"").replace(",","").toUpperCase()).filter(e=>0<e.length);e=n.map(e=>fetch("/api/getRPODescription/"+e));Promise.all(e).then(e=>{Promise.all(e.map(e=>200===e.status?e.json():["Not found"])).then(e=>{d(!1),e=e.map(e=>"Not found"===e[0]?e:JSON.parse(atob(e[0]))),l(n,e)}).catch(e=>{console.error(e)})}).catch(e=>{console.error(e)})}),(e,n)=>{o=1===e.length&&17===e[0].length?[{code:e[0],description:["Looks like you entered VIN code instead of RPO Code."]}]:e.map((e,t)=>({code:e,description:n[t]})),document.getElementById("tableTbody").innerHTML="",o.map(e=>{var t='<ul class="list-unstyled">'+e.description.reduce((e,t)=>e+`<li>${t}</li>`)+"</ul>",e=`
        <tr>
          <th>${e.code}</th>
          <td class="text-break">${t}</td>
        </tr>
      `;document.getElementById("tableTbody").innerHTML+=e})})});